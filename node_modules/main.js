var readlineSync = require('readline-sync');
const userName = readlineSync.question("What is your name traveler? ");

console.log("Nice to meet you " + userName + ". You seem to be trapped in a dimly lit room, you can make out a door on one side and a hole in the wall on the opposite side")

        
const choice = [ "Place your hand in the hole", "Find the key", "Open the door"];
one = "Place your hand in the hole"
two = "Find the key"
three = "Open the door"


index = readlineSync.keyInSelect(choice, "What do you think you should do first?");
let playerChoice = choice[index];

let isAlive = true

while(isAlive = true){
    let hasKey = false
    if(playerChoice == one){
        console.log("You have died...better luck next time.")
        isAlive = !isAlive
        process.exit()
    } else if (playerChoice == two){
        hasKey = true;
        let index = readlineSync.keyInSelect(choice, "Great choice, What will you do with this key?") 
        let playerChoice = choice[index]     
        if (playerChoice == one){
        console.log("You have died...better luck next time.")
        process.exit()
        } else if (playerChoice == three){
        console.log("Congratulations, go live a better life")
        process.exit()
            
    }
    
    } else if (playerChoice == three){
        let index = readlineSync.keyInSelect(choice,"The door is locked...try something else") 
        let playerChoice = choice[index] 
        if(playerChoice == one){
            console.log("You have died...better luck next time.")
            process.exit()
        } else if (playerChoice == two){
            key = true;
            let index = readlineSync.keyInSelect(choice, "Great choice, What will you do with this key?") 
            let playerChoice = choice[index]       
            if (playerChoice == one){
                console.log("You have died...better luck next time.")
                process.exit()
            } else if (playerChoice == three){
                console.log("Congratulations, go live a better life")
                process.exit()
            } 
        
        }
    break;
    }
}
